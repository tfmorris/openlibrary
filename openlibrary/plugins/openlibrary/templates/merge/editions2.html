$def with (editions, all_keys, merged)

$var title: $_("Merge Editions")

<div id="contentHead">
    <h1>$_("Merge Editions")</h1>
</div>

<div id="contentBody">

$for k in all_keys:
    $if k in ('key', 'type'):
        $ continue
    <h2>$k</h2>

    <table>
    $for e in editions:
        <tr><td valign="top">$e.key</td><td>
            $if isinstance(e[k], list):
                $for i in e[k]:
                    $i<br>
            $else:
                $e[k]
        </td></tr>
    <tr><td>merged</td><td>
        $if isinstance(merged.get(k), list):
            <textarea cols="40" rows="$max(len(merged[k]), 3)">$'\n'.join(unicode(i) for i in merged[k])</textarea>
        $else:
            <input value="$merged.get(k)">
    </td></tr>
    <table>
</div>
