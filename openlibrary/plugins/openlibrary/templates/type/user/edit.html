$def with (page)

$ _t = i18n.get_namespace('/type/user')
$ _ = i18n.get_namespace('/mode/edit')
 
$var title: Editing $page.displayname

<script>
function add_row(name) {
    var tbody = \$("#tbody_" + name);
    var n = tbody.children().length;

    var row = \$("tr:last", tbody);
    var newrow = row.clone();
    tbody.append(newrow);

    \$("td:last", row).html("");

    \$("td:first", newrow).html("");
    \$("input", newrow).attr("name", name + "#" + n);
    \$("input", newrow).attr("value", "");
}
</script>


    $:macros.RowButtons(page.type)

<div id="slickbox" style="overflow: hidden">
    $:macros.TypeChanger(page.type)
</div>

<form method="POST">

    <input type="hidden" name="type.key" value="/type/user" />
    <!-- WIKI EDIT SECTION -->
    <div id="biblio-form-body">    
        <table cellspacing="0" cellpadding="0" border="0" width="100%">
        <tr>
            <td valign="top">
                <div id="header">               
                    <span class="pretitle">$_.pretitle:<br /></span>             
                    <div id="title">$page.displayname</div>            
                </div>
                
                <!-- begin left table -->
                <table cellspacing="0" cellpadding="0" border="0" width="100%">
                    <tr><td valign="top" colspan="3" height="8"></td></tr>
                    
                    $:macros.UserEditRow(page, 'displayname', True)
                    $:macros.UserEditRow(page, 'website', False)

                    <!-- ADDITIONAL METADATA -->
                    <tr><td valign="top" colspan="3" height="22"></td></tr>

                    <!-- description -->
                    <tr><td valign="top" colspan="3" class="formheader-top">$_t.description</td></tr>
                    <tr><td valign="top" colspan="3" class="formheader" width="100%"><textarea name="description" rows="6" cols="">$page.description</textarea></td></tr>                    
                
                </table> <!-- end left table -->
            </td>

                    </tr>

                </table>
                <!-- end right table -->

                <br />
            </td>
        </tr>
        </table>
            
        <!-- edit summary and buttons -->

             $:macros.EditButtons()

    </div>
</form>