$def with (type, name, value, property="key", limit=10)

$add_javascript('/static/js/jquery/jquery.js')
$add_javascript('/static/js/jquery/jquery.bgiframe.min.js')
$add_javascript('/static/js/jquery/jquery.dimensions.pack.js')
$add_javascript('/static/js/jquery/jquery.autocomplete.js')
$add_javascript('/static/js/autocomplete.js')

$add_stylesheet('/static/jquery.autocomplete.css')

$if property == "key":
    <input type="text" id="input_$name" name="${name}.$property" value="$value[property]" ac_name="$name" ac_type="$type" ac_property="$property" ac_limit="$limit" ac_enabled="true" style="width: 100%;"/>
$else:
    <input type="text" id="input_$name" name="_${name}.$property" value="$value[property]" ac_name="$name" ac_type="$type" ac_property="$property" ac_limit="$limit" ac_enabled="true" style="width: 100%;"/>
    <input type="hidden" id="result_$name" name="${name}.key" value="$value.key" />

<script>
<!--
jQuery(function() {
    setup_autocomplete(document.getElementById("input_$name"));
});
-->
</script>