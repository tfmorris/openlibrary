$def with (book)

<div class="small" style="color:#615132;position:absolute;top:15px;right:20px;">
    <span id="modeToggle">Turn on</span> <a title="Expose another 20 fields about the edition" href="javascript:;" id="libraryMode">Librarian Mode</a>?
</div>

<fieldset class="major">
    <legend>$_("Publishing Info")</legend>

    <div class="formBack">

        <div class="formElement">
            <div class="label">
                <label for="publishers">$_("Who is the publisher?")</label> 
                <span class="tip">$_("For example"): <em>$_("Oxford University Press; Penguin; W.W. Norton")</em></span>
            </div>
            <div class="input">
                <input type="text" name="edition--publishers" id="publishers" value="$book.publishers.join('; ')"/>
            </div>
        </div>

        <div class="formElement">
            <div class="label">
                <label for="publish_date">$_("When was it published?")</label> 
                <span class="tip">$_("You should be able to find this in the first few pages of the book.")</span>
            </div>
            <div class="input">
                <input type="text" name="edition--publish_date" id="publish_date" value="$book.publish_date" size="6" maxlength="5" style="width:70px!important;"/>
            </div>
        </div>

        <div class="formElement">
            <div class="label">
                <label for="publish_place">$_("Where was the book published?")</label>
                <span class="tip">$_("City, Country please.") $_("For example"): <i>$_("New York, USA; Sydney, Australia")</i></span>
            </div>
            <div class="input">
                <input type="text" name="edition--publish_place" id="publish_place" value="$book.publish_place.join('; ')"/>
            </div>
        </div>

        <div class="formElement librarian hidden">
            <div class="label">
                <label for="copyright_date">Is there a copyright date?</label>
                <span class="tip">The year following the copyright statement.</span>
            </div>
            <div class="input">
                <input type="text" name="edition--copyright_date" id="copyright_date" value=""/>
            </div>
        </div>

        <div class="formElement librarian hidden">
            <div class="label">
                <label for="series">Is the book part of a series?</label> 
                <span class="tip">The name of the publisher's series. For example: <i>The Story of Civilization, Part III</i></span>
            </div>
            <div class="input">
                <input type="text" name="edition--series" id="series" value=""/>
            </div>
        </div>

        <div class="formElement librarian hidden">
            <div class="label">
                <label for="collections">Is it a volume in a collection?</label>
                <span class="tip">What collection does it belong to?</span>
            </div>
            <div class="input">
                <input type="text" name="edition--collections" id="collections" value=""/>
                <div class="tip">e.g. <i>The <strong>Pocket Atlas of Anatomy</strong> collection consists of Vol I: Head and Neck, Vol. II: Thorax, Heart, Abdomen and Pelvis & Vol. III: Spines Extremities and Joints</i></div>
            </div>
        </div>

    </div>
</fieldset>

<fieldset class="major">
    <legend>$_("This Edition")</legend>
    <div class="formBack">

        <div id="cover">
            <p>&nbsp;</p>
            <p><a href="javascript:;" id="coverPop">Add a<br />cover image</p></a>
        </div>

        <div class="formElement">
            <div class="label">
                <label for="title">Title</label> 
                <span class="tip">There are occasionally title variants amongst editions.</span>
            </div>
            <div class="input">
                <input type="text" name="edition--title" id="title" value="$book.title"/>
            </div>
        </div>

        <div class="formElement">
            <div class="label"><label for="subtitle">Subtitle</label> <span class="tip">Usually distinguished by different or smaller type. For example: <i>envisioning the next 50 years</i></span></div>
            <div class="input">
                <input type="text" name="edition--subtitle" id="" value="$book.subtitle"/>
            </div>
        </div>

        <div class="formElement librarian hidden">
            <div class="label">
                <label for="title_other">Is it known by any other titles?</label> 
                <span class="tip">Perhaps in another language?</span>
            </div>
            <div class="input">
                <input type="text" name="edition--other_titles--0" id="title_other" value=""/>
                <div class="tip">For example: <i>Der Zauberberg</i> is an alternate title for <i>The Magic Mountain</i>.</div>
            </div>
        </div>

        <div class="formElement librarian hidden">
            <div class="label">
                <label for="edition">Does this edition have a specific name?</label> 
                <span class="tip">For example: <i>Centennial edition</i>; <i>First edition</i></span>
            </div>
            <div class="input">
                <input type="text" name="edition--edition_name" id="edition" value="$book.edition"/>
            </div>
        </div>

        <div class="formElement librarian hidden">
            <div class="label">
                <label for="edition_notes">Any notes about this specific edition?</label> 
            <span class="tip">Anything about the book that may be of interest. For example: <i>A Plume Book</i>.</span>
            </div>
            <div class="input">
                <textarea name="edition--notes" id="edition_notes" rows="3" cols="50"></textarea>
            </div>
        </div>

        <div class="formElement">
            <div class="input">
                <ul class="booklinks">
                    <li>Add the <a href="javascript:;" id="tocPop">Table of Contents</a></li>
                </ul>
            </div>
        </div>

        <div class="hidden">
            <div class="floater" id="addTOC">
                <div id="popThisUp" class="floaterAlert hidden"></div>
                <a id="coverShut" href="javascript:;" onclick="\$.fn.colorbox.close();"></a>
                <h2>Table of Contents</h2>
            </div>
        </div>

        <fieldset class="minor">
            <legend>Contributors</legend>

            <div class="formElement">
                <div class="label">
                    <label for="IDtype">List the people involved</label>
                    <span class="tip"></span>
                </div>
                <div class="input">
                    <table class="identifiers">
                        <tr>
                            <td width="15%" align="right">
                                <select name="role" id="IDtype" style="font-family: Lucida Grande;  font-size: 14px; padding: 4px; name="idtype="IDtype">
                                    <option selected="selected">Select role</option>
                                    <option>Author</option>
                                    <option>Contributor</option>
                                    <option>Cover artist</option>
                                    <option>Designer</option>
                                    <option>Editor</option>
                                    <option>Foreword</option>
                                    <option>Illustrator</option>
                                    <option>Introduction</option>
                                    <option>Photographer</option>
                                    <option>Translator</option>
                                    <option>---</option>
                                    <option>Add a new role</option>
                                </select>
                            </td>
                            <td width="85%"><br />
                                <input type="text" name="name" id="IDnumber2" style="width:190px!important;"/>
                                <input type="submit" name="add2" id="add2" value="Add" />
                                <br />
                                &nbsp;
                            </td>
                        </tr>
                        <tr>
                            <td width="15%" align="right">
                                <strong>Author</strong>
                            </td>
                            <td width="85%">
                                Nick Cave
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="formElement librarian hidden">
                <div class="label">
                    <label for="work_desc17">Is there a By Statement?</label>
                    <span class="tip">For example: <em>edited by David Anderson</em></span>
                </div>
                <div class="input">
                    <input name="edition--by_statement" type="text" id="work-desc17" value="by_statement"/>
                </div>
            </div>

        </fieldset>

        <div class="formDivider"></div>

        <fieldset class="minor">

            <legend>Languages</legend>

            <div class="formElement">
                <div class="label">
                    <label for="language">What language is this edition written in?</label>
                    <span class="tip"></span>
                </div>
                <div class="input">
                    <select name="languages" id="language">
                        <option selected="selected" value="">Select language</option>
                        <option>Alphabetical List of languages</option>
                        <option>---</option>
                        <option>Add a new language</option>
                    </select>
                </div>
            </div>

            <div class="formElement librarian hidden">
                <div class="label">
                    <label for="translation">Is it a translation of another book?</label>
                    <span class="tip"></span>
                </div>
                <div class="input">
                    <br/>
                    <input type="radio" name="is-translation" id="is-translation" value="no" checked="checked"  onclick="\$('.transYes').customFadeOut();"/>
                    <label for="is-translation">No</label>
                </div>
                <div class="input">
                    <input type="radio" name="is-translation" id="is-translation2" value="yes" onclick="\$('.transYes').customFadeIn();" />
                    <label for="is-translation2">Yes, it's a translation</label>
                </div>
            </div>

            <div class="formElement hidden transYes">
                <div class="label">
                    <span class="tip">What's the original book?</span>
                </div>
                <div class="input">
                    <input name="edition--translation_of" type="text" id="translation-of" style="width:300px!important;"/>
                </div>
            </div>

            <div class="formElement hidden transYes">
                <div class="label">
                    <span class="tip">What language was the original written in?</span>
                </div>
                <div class="input">
                    <select name="translated-from" id="translated-from" style="width:300px!important;"/>
                        <option selected="selected">Select</option>
                        <option>Alphabetical List of languages</option>
                        <option>---</option>
                        <option>Add a new language</option>
                    </select>
                </div>
            </div>

        </fieldset>

    </div>

</fieldset>

<fieldset class="major">
    <legend>ID Numbers</legend>
    <div class="formBack">

        <div class="formElement">
            <div class="label">
                <label for="IDtype2">Do you know any identifiers for this edition?</label>
                <span class="tip">Like, ISBN?</span>
            </div>
            <div class="input">
                <select name="IDtype2" id="IDtype">    
                    <option value="">Select one of many...</option>
                    <option>ISBN</option>
                    <option>Good Reads</option>
                    <option>Library Thing</option>
                    <option>Paperback Swap</option>
                    <option>Zotero</option>
                    <option>Book Mooch</option>
                    <option value="IA">Internet Archive</option>
                    <option>Amazon</option>
                    <option>Google</option>
                    <option value="Dewey">Dewey Decimal</option>
                    <option value="LC">Library of Congress</option>
                    <option value="LCCN">LC Control Number </option>
                    <option value="OCLC">OCLC</option>
                    <option>---</option>
                    <option>Add a new ID type</option>
                </select>

                <input type="text" name="IDnumber" id="IDnumber" size="20" style="width:365px!important;"/>
                <input type="submit" name="add" id="add" value="Add" />

            </div>
            <br/>
            <div class="input">
                <table class="identifiers">
                    <tr>
                        <td width="15%" align="right"><strong>ISBN</strong></td>
                        <td width="85%">0-596-10245-3</td>
                    </tr>
                    <tr>
                        <td align="right"><strong>Google</strong></td>
                        <td><a href="google page">pSChQAAACAAJ</a></td>
                    </tr>
                    <tr>
                        <td align="right"><strong>Amazon</strong></td>
                        <td><a href="amazon">xyz342</a></td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</fieldset>

<fieldset class="major">
    <legend>The Physical Object</legend>
    <div class="formBack">

        <fieldset class="minor">
            <div class="formElement">
                <div class="label">
                    <label for="work-desc7">What sort of book is it?</label>
                    <span class="tip">Paperback; Hardcover, etc.</span>
                </div>
                <div class="input">
                    <input name="edition--physical_format" type="text" id="work-desc7" style="width:365px;" value="" />
                </div>
            </div>
            <div class="formElement">
                <div class="label">
                    <label for="work-desc8">How many pages?</label>
                    <span class="tip"></span>
                </div>
                <div class="input">
                    <input name="edition--number_of_pages" type="text" id="work-desc8" style="width: 365px;" value="" />
                </div>
            </div>
            <div class="formElement">
                <div class="label">
                    <label for="work-desc9">Pagination?</label>
                    <span class="tip">Note the highest number in each pagination pattern.</span>
                </div>
                <div class="input">
                    <input name="edition--pagination" type="text" id="work-desc9" style="width:365px;" value="" />
                    <div class="tip">For example: <em>xii, 346p.</em></div>
                </div>
            </div>
            <div class="formElement">
                <div class="label">
                    <label for="work-desc18">How much does the book weigh?</label>
                    <span class="tip"></span>
                </div>
                <div class="input">
                    <input name="edition--bookweight--weight" type="text" id="work-desc18" style="width:70px!important;" value="" size="6" />
                    <span class="tip">
                        <input name="edition--bookweight--unit" type="radio" id="units2" value="grams" checked="checked" />
                        <label for="units2">grams</label>
                        &nbsp;&nbsp;
                        <input type="radio" name="edition--bookweight--unit" id="unit2" value="kilos" />
                        <label for="unit2">kilograms</label>
                        &nbsp;&nbsp;
                        <input type="radio" name="edition--bookweight--unit" id="unit3" value="ounces" />
                        <label for="unit3">ounces</label>
                        &nbsp;&nbsp;
                        <input type="radio" name="edition--bookweight--unit" id="unit4" value="pounds" />
                        <label for="unit4">pounds</label>
                    </span>
                </div>
            </div>
        </fieldset>

        <div class="formDivider"></div>

        <fieldset class="minor">
            <legend>Dimensions</legend>
            <div class="formElement">
                <div class="input">
                    <table cellspacing="0" cellpadding="1">
                        <tr>
                            <td rowspan="3"><img src="/images/dimensions.png" alt="dimensions" width="92" height="75" align="left" style="margin:0 5px;" /></td>
                            <td><span class="tip"> <label for="work-desc4">Depth:</label> </span></td>
                            <td><input name="edition--dimensions--depth" type="text" id="work-desc4" style="width:70px!important;" size="6" maxlength="5" value="$book.dimensions.width"/></td>
                        </tr>
                        <tr>
                            <td><span class="tip"> <label for="work-desc5">Height:</label> </span></td>
                            <td><input name="edition--dimensions--height" type="text" id="work-desc5" style="width:70px!important;" size="6" maxlength="5" value="$book.dimensions.height"/>
                                <span class="tip">
                                    $:radio_input(name="edition--dimensions--units", id="heightunit1", value="centimeters", checked=book.dimensions.units != "inches")
                                    <label for="heightunit1">centimeters</label>&nbsp;&nbsp;
                                    $:radio_input(name="edition--dimensions--units", id="heightunit2", value="inches", checked=book.dimensions.units == "inches")
                                    <label for="heightunit2">inches</label>
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td><span class="tip"> <label for="work-desc6">Width:</label> </span></td>
                            <td><input name="edition--dimensions--width" type="text" id="work-desc6" style="width:70px!important;" size="6" maxlength="5" value="$book.dimensions.width"/></td>
                        </tr>
                    </table>
                </div>
            </div>
        </fieldset>
    </div>
    <div class="formElement bottom">
        <div class="input">
            <input type="submit" value="Save" name="submit" id="submit"/>
            &nbsp;
            <a href="javascript:history.go(-1);" class="larger attn">Cancel</a>
        </div>
    </div>

</fieldset>